<!doctype html><html lang=en-us><head><title>KevCaz&#39;s Website</title><link rel=stylesheet href=https://kevcaz.github.io/css/main.min.45a0fb410cb4c2fedb552955d561ef5c7e5c2073b49c6d888256c43144203c75.css media=screen><link rel=stylesheet href=../../../css/perso.css><link rel=stylesheet href=../../../css/family.css></head><body><div class=page><div class=ctn-sidebar-primary><div class=ctt-sidebar-primary><h1>KevCaz&#39;s Website</h1><div class=primary-sidebar-premenu><h2><i class="fas fa-align-center"></i><button onclick="dropDown('p-s-menu')"> Menu</button></h2></div><div class=primary-sidebar-menu id=p-s-menu><h2><a href=../../../><i class="fas fa-home"></i>Home</a></h2><h2><a href=../../../about/><i class="fas fa-id-card"></i>About</a></h2><h2><button onclick="dropDown('dropdown-research')">
<i class="fas fa-microscope"></i>Research</button></h2><div class=dropdown id=dropdown-research><h3><a href=../../../projects/>Projects</a></h3><h3><a href=../../../publications/>Publications</a></h3><h3><a href=../../../software/>Software</a></h3><h3><a href=../../../talks/>Talks &amp; Posters</a></h3><h3><a href=../../../teaching/>Teaching</a></h3><h3><a href=../../../resume/>Resume</a></h3></div><h2 id=current-dropdown><button onclick="dropDown('dropdown-blog')">
<i class="fas fa-blog"></i>Blog</button></h2><div class=dropdown-current id=dropdown-blog><h3><a href=../../../econotes/>EcoNotes</a></h3><h3 id=current><a href=../../../notes/>SilicoNotes</a></h3><h3><a href=https://insileco.github.io/>inSileco</a></h3></div><h2><button onclick="dropDown('dropdown-perso')">
<i class="fas fa-person-booth"></i>Personal stuff</button></h2><div class=dropdown id=dropdown-perso><h3><a href=../../../perso/books>Books I read and liked</a></h3><h3><a href=../../../perso/movies>Movies I watched and liked</a></h3><h3><a href=../../../perso/opinions>Opinions I dare to share</a></h3><h3><a href=../../../perso/famille>Even more personnal</a></h3></div></div><div class=footer><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class="fab fab fa-github-square"></i></a><a href=https://twitter.com/KCazelles><i class="fab fa-twitter-square"></i></a><a href=http://orcid.org/0000-0001-6619-9874><i class="ai ai-orcid-square"></i></a><a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class="ai ai-google-scholar-square"></i></a><a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class="fab fa-researchgate"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class="fas fa-code"></i>available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class="fab fa-github"></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-zero"></i></a>unless otherwise specified.</div></div></div></div><div class=ctn-main-content><div class=ctt-main-content><div class=article-meta><h1 id=title>Merging .bib files with bibtool</h1><h3 class=date>April 22, 2019<div class=tags><i class="fas fa-tags" aria-hidden=true></i>&nbsp;
<a href=../../../tags/bibtex><kbd class=item-tag>bibtex</kbd></a>
<a href=../../../tags/bibtool><kbd class=item-tag>bibtool</kbd></a>
<a href=../../../tags/latex><kbd class=item-tag>latex</kbd></a>
<a href=../../../tags/bibliography><kbd class=item-tag>bibliography</kbd></a></div><br></div><div class=article-main><p>As researchers, we sometimes write manuscripts collectively and remotely in
<a href=https://www.latex-project.org/>LaTeX</a> (or in a lightweight markup languages
that is converted into LaTeX at some point). In such case, it is quite
useful to let co-authors edit their own <code>bib</code> file in order to store the references included in the part of the manuscript they are editing. One way to deal with several <code>bib</code> files is to merge them into one <code>bib</code> file before compiling the final document to <code>pdf</code>. In this note, I exemplify how to do so.</p><p>Let&rsquo;s assume that there are two <code>bib</code> files within the manuscript folder:</p><ol><li><code>kevcaz.bib file</code>, my own list of references;</li><li><code>author.bib</code>, my colleague&rsquo;s references list.</li></ol><p>I added these two files below:</p><p><details><summary><a>click to display kevcaz.bib</a></summary></p><pre><code class=language-latex>% kevcaz.bib
@Article{	 alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}

@Article{	 savage_elevational_2015,
  title		= {Elevational shifts, biotic homogenization and time lags in
		  vegetation change during 40 years of climate warming},
  volume	= {38},
  issn		= {09067590},
  doi		= {10.1111/ecog.01131},
  language	= {en},
  number	= {6},
  urldate	= {2019-04-14},
  journal	= {Ecography},
  author	= {Savage, Josée and Vellend, Mark},
  month		= jun,
  year		= {2015},
  pages		= {546--555}
}
</code></pre><p></details></p><p><details></p><p><summary><a>click to display coauthor.bib</a></summary></p><pre><code class=language-latex>% coauthor.bib
@article{morales-castilla_inferring_2015,
	title = {Inferring biotic interactions from proxies},
	volume = {30},
	issn = {01695347},
	doi = {10.1016/j.tree.2015.03.014},
	language = {en},
	number = {6},
	urldate = {2018-05-23},
	journal = {Trends in Ecology \&amp; Evolution},
	author = {Morales-Castilla, Ignacio and Matias, Miguel G. and Gravel, Dominique and Araújo, Miguel B.},
	month = jun,
	year = {2015},
	keywords = {Interaction biotique},
	pages = {347--356}
}

@article{russell_scale_2006,
	title = {Scale, {Environment}, and {Trophic} {Status}: {The} {Context} {Dependency} of {Community} {Saturation} in {Rocky} {Intertidal} {Communities}},
	volume = {167},
	issn = {0003-0147, 1537-5323},
	shorttitle = {Scale, {Environment}, and {Trophic} {Status}},
	url = {http://www.journals.uchicago.edu/doi/10.1086/504603},
	doi = {10.1086/504603}
}

@Article{	 alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}
</code></pre><p></details></p><p>Then, what I want is to merge them into one single file <code>biblio_sorted.bib</code> (the
one to be used as reference data base for the manuscript) and I also want to
remove all duplicates before the merge. How to do so? Well, that is the king of
situation where <a href="https://ctan.org/pkg/bibtool?lang=en">bibtool</a> comes in handy.
This command line tool allows several manipulations of <code>.bib</code> files and here I
use it to merge two <code>bib</code> file, sort the entries in alphabetical order and
remove all duplicates with single line of command:</p><pre><code class=language-shell>$ bibtool -s -d kevcaz.bib coauthor.bib -o biblio_sorted.bib
*** BibTool WARNING: Possible double entries discovered:
***     alroy_new_2015 =?= alroy_new_2015
***     alroy_new_2015
</code></pre><p>Where :
- option <code>-s</code> sorts entries in alphabetical order;
- option <code>-d</code> comments out duplicates
- option <code>-o</code> indicate the name of the output files.</p><p>Below is the final file with two comments of my own:</p><p><details><summary><a>click to display biblio_sorted.bib</a></summary></p><pre><code class=language-latex>% biblio_sorted
@Article{	  alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}

% NB: '###' comments the reference out
###Article{	  alroy_new_2015,
  title		= {A new twist on a very old binary similarity coefficient},
  volume	= {96},
  issn		= {0012-9658},
  doi		= {10.1890/14-0471.1},
  number	= {2},
  urldate	= {2019-04-13},
  journal	= {Ecology},
  author	= {Alroy, John},
  year		= {2015},
  pages		= {575--586}
}

@Article{	  morales-castilla_inferring_2015,
  title		= {Inferring biotic interactions from proxies},
  volume	= {30},
  issn		= {01695347},
  doi		= {10.1016/j.tree.2015.03.014},
  language	= {en},
  number	= {6},
  urldate	= {2018-05-23},
  journal	= {Trends in Ecology \&amp; Evolution},
  author	= {Morales-Castilla, Ignacio and Matias, Miguel G. and
		  Gravel, Dominique and Araújo, Miguel B.},
  month		= jun,
  year		= {2015},
  keywords	= {Interaction biotique},
  pages		= {347--356}
}

@Article{	  russell_scale_2006,
  title		= {Scale, {Environment}, and {Trophic} {Status}: {The}
		  {Context} {Dependency} of {Community} {Saturation} in
		  {Rocky} {Intertidal} {Communities}},
  volume	= {167},
  issn		= {0003-0147, 1537-5323},
  shorttitle	= {Scale, {Environment}, and {Trophic} {Status}},
  url		= {http://www.journals.uchicago.edu/doi/10.1086/504603},
  doi		= {10.1086/504603}
}

@Article{	  savage_elevational_2015,
  title		= {Elevational shifts, biotic homogenization and time lags in
		  vegetation change during 40 years of climate warming},
  volume	= {38},
  issn		= {09067590},
  doi		= {10.1111/ecog.01131},
  language	= {en},
  number	= {6},
  urldate	= {2019-04-14},
  journal	= {Ecography},
  author	= {Savage, Josée and Vellend, Mark},
  month		= jun,
  year		= {2015},
  pages		= {546--555}
}
</code></pre><p></details></p><p>Pretty neat, isn&rsquo;t it? Plus, if you are familiar with
<a href=https://www.gnu.org/software/make/manual/html_node/Introduction.html>Makefiles</a>,
it is easy to add this to your compilation process so that each time your <code>bib</code>
file is edited, the manuscript database will be edited will be updated 😃!
I find this way quite convenient as it allows co-author to edit the list of
reference without worrying about potential conflicts in this list.</p><p>Three final remarks to conclude this post:</p><ul><li><p>have a look at <code>man bibtool</code>, there are several options to explore, for instance <code>-S</code> to sort entries in reverse order;</p></li><li><p>the approach described above will work seamlessly if all the authors edit the
keys of the entries in the same way (as above), otherwise another step is
required to standardize these keys;</p></li><li><p>there are alternative ways to deal with several <code>bib</code> files directly in the
LaTex file. For instance, the macro <code>\addbibresource</code> of the <code>biblatex</code>
package, see this answer on <a href=https://tex.stackexchange.com/questions/98660/two-bibliographies-one-for-main-text-and-one-for-appendix><i class="fa fa-stack-overflow" aria-hidden=true></i></a>.</p></li></ul></div></div><div class=footer2><hr id=hr-footer align=left><div class=social-media-banner><a href=https://github.com/KevCaz><i class="fab fab fa-github-square"></i></a><a href=https://twitter.com/KCazelles><i class="fab fa-twitter-square"></i></a><a href=http://orcid.org/0000-0001-6619-9874><i class="ai ai-orcid-square"></i></a><a href="https://scholar.google.ca/citations?user=xzvcu7cAAAAJ%26hl"><i class="ai ai-google-scholar-square"></i></a><a href=https://www.researchgate.net/profile/Kevin_Cazelles><i class="fab fa-researchgate"></i></a></div><div class=footer-custom>Website built with <a href=https://gohugo.io/>Hugo</a>.<br><i class="fas fa-code"></i>available on <a href=https://github.com/KevCaz/KevCaz.github.io><i class="fab fa-github"></i></a>.<br>Content under <a href=https://creativecommons.org/publicdomain/zero/1.0><i class="fab fa-creative-commons"></i><i class="fab fa-creative-commons-zero"></i></a>unless otherwise specified.</div></div></div><div class=ctn-sidebar-secondary><div class=ctt-sidebar-secondary><h1><a href=#><i class="far fas fa-chevron-up"></i></a></h1><script src=../../../js/sidebar-secondary.js></script><h1><a onclick=scrollToBottom()><i class="far fas fa-chevron-down"></i></a></h1></div></div></div><script src=../../../js/sidebar-primary-dropdown.js></script><script>scrollingElement=(document.scrollingElement||document.body)
function scrollToBottom(){scrollingElement.scrollTop=scrollingElement.scrollHeight;}</script></body></html>